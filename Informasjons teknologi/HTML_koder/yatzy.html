<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yatzy</title>
    <link rel="stylesheet" href="../CSS/CSS_til_yatzy.css">
</head>

<body>


    <div id="overskrift">
        <h1>Yatzy for 1</h1>
    </div>

    <section>

        <!--Denne tabellen viser terningene, og hvilket bilde som hører til hvilken verdi. Den siste er knappen man bruker til å kaste terningene med-->
        <table class="chkbox">
            <tr>
                <td><img id="imgTerning_1" src="../bilder/Terning1.svg.png" alt=""></td>
                <td><img id="imgTerning_2" src="../bilder/Terning2.svg.png" alt=""></td>
                <td><img id="imgTerning_3" src="../bilder/Terning3.svg (1).png" alt=""></td>
                <td><img id="imgTerning_4" src="../bilder/Terning4.svg.png" alt=""></td>
                <td><img id="imgTerning_5" src="../bilder/Terning5.svg.png" alt=""></td>
                <td><img id="imgTerning_6" src="../bilder/Terning6.svg.png" alt=""></td>
                <td><button id="btnTerning">
                        Kast
                    </button>
                </td>
            </tr>

            <!-- Her er en rad med check bokser som brukes til å holde av terningene. Funksjonen som gjør det er lenger ned-->
            <tr>
                <td><input type="checkbox" name="chkbox" id="keep1"></td>
                <td><input type="checkbox" name="chkbox" id="keep2"></td>
                <td><input type="checkbox" name="chkbox" id="keep3"></td>
                <td><input type="checkbox" name="chkbox" id="keep4"></td>
                <td><input type="checkbox" name="chkbox" id="keep5"></td>
                <td><input type="checkbox" name="chkbox" id="keep6"></td>
            </tr>
        </table>
    </section>

    <p></p>


    <section>
        <!--Her starter selve yatzy tabellen hvor alle verdiene skal skrives inn-->
        <table id="paper" style="text-align:center">
            <thead>
                <tr>
                    <th colspan="5">Yatzy</th>
                </tr>

                <tr>
                    <th></th>
                    <th>Player 1</th>
                </tr>

            </thead>

            <tbody>

                <tr id="Sum1_6">
                    <td>1s</td>
                    <td id="1" onclick="summere1_6(1)"></td>

                </tr>
                <tr id="Sum1_6">
                    <td>2s</td>
                    <td id="2" onclick="summere1_6(2)"></td>

                </tr>

                <tr id="Sum1_6">
                    <td>3s</td>
                    <td id="3" onclick="summere1_6(3)"></td>

                </tr>

                <tr id="Sum1_6">
                    <td>4s</td>
                    <td id="4" onclick="summere1_6(4)"></td>

                </tr>

                <tr id="Sum1_6">
                    <td>5s</td>
                    <td id="5" onclick="summere1_6(5)"></td>

                </tr>

                <tr id="Sum1_6">
                    <td>6s</td>
                    <td id="6" onclick="summere1_6(6)"></td>
                </tr>

                <tr id="yatzy1">
                    <td>Yatzy</td>
                    <td id="yatzy" onclick="yatzy()"></td>
                </tr>

                <tr id="totalBonusSum">
                    <th>Sum</th>
                    <td id="sum" onclick="sum_()"></td>
                <tr>

            </tbody>
        </table>
    </section>

    <script>

        //her deklareres alle variablene
        var btnTerning = document.getElementById("btnTerning")
        var terning_1 = document.getElementById("imgTerning_1")
        var terning_array = []
        var terning_2 = document.getElementById("imgTerning_2")
        var terning_3 = document.getElementById("imgTerning_3")
        var terning_4 = document.getElementById("imgTerning_4")
        var terning_5 = document.getElementById("imgTerning_5")
        var terning_6 = document.getElementById("imgTerning_6")
        var overskrift = document.getElementById("overskrift")
        var kast = 0
        let bonus = document.getElementById("bonus")
        let sum = 0



        /*En funksjon som kaster terningen. Terningen kaster tall mellom 1 og 6*/
        function kastTerning(terningNummer, terning1_6) {
            console.log(terningNummer)
            var tilfeldigTall;
            tilfeldigTall = (Math.random() * 6) + 1;
            var tilfeldigTallHelt = parseInt(tilfeldigTall);
            console.log(tilfeldigTallHelt)



            terning_array[(terning1_6 - 1)] = tilfeldigTallHelt
            //hvis det tilfeldige tallet er 1, vises bilde som tilsvarer 1. Dette er koden som tallene et bilde som symboliserer en terning//
            if (tilfeldigTallHelt == 1) {
                terningNummer.src = "../bilder/Terning1.svg.png"
            }
            else if (tilfeldigTallHelt == 2) {
                terningNummer.src = "../bilder/Terning2.svg.png"
            }
            else if (tilfeldigTallHelt == 3) {
                terningNummer.src = "../bilder/Terning3.svg (1).png"
            }
            else if (tilfeldigTallHelt == 4) {
                terningNummer.src = "../bilder/Terning4.svg.png"
            }
            else if (tilfeldigTallHelt == 5) {
                terningNummer.src = "../bilder/Terning5.svg.png"
            }
            else if (tilfeldigTallHelt == 6) {
                terningNummer.src = "../bilder/Terning6.svg.png"
            }
        }

        //Denne funksjonen sjekker om terningen er huket av eller ikke
        //Slik at hver gang jeg trykker på kast knappen, sjekker den om terningen er huket av
        //Hvis den er huket av blir ikke den terningen spilt, om den ikke er huket av blir den spilt
        function kastTerninger() {
            if (document.getElementById("keep1").checked == false) {
                kastTerning(terning_1, 1)
            }

            if (document.getElementById("keep2").checked == false) {
                kastTerning(terning_2, 2)
            }

            if (document.getElementById("keep3").checked == false) {
                kastTerning(terning_3, 3)
            }

            if (document.getElementById("keep4").checked == false) {
                kastTerning(terning_4, 4)
            }

            if (document.getElementById("keep5").checked == false) {
                kastTerning(terning_5, 5)
            }

            if (document.getElementById("keep6").checked == false) {
                kastTerning(terning_6, 6)
            }
        
            //Her er kaste funksjonen
            kast++
            if (kast == 3) {
                btnTerning.disabled = true
            }
        }
        btnTerning.onclick = kastTerninger;



        //I denne funksjonen samler og lagres tallene og regner ut slik at når jeg trykker et sted på tabellen,
        //kommer denne funksjonen til å se gjennom tallene og legge det til der jeg trykker på tbellen
        function summere1_6(oppsamlingstall) {
            var minSum = 0
            for (i = 0; i < 6; i++) {
                //Denne delen sier at den terning lista i koden er oppsamlingstallene
                // så hvis minSum er satt til null vil den nye summen min bli den nye minSum+oppsamlingstallene, som er de tallene jeg har huket av eller 
                //som har den verdien av det stedet jeg trykker i tabellen
                if (terning_array[i] == oppsamlingstall) {
                    minSum = minSum + oppsamlingstall
                    sum += oppsamlingstall
                    document.getElementById(String(oppsamlingstall)).innerHTML = minSum
                }
            }
            //Denne delen sier at om jeg har kastet tre gangen men "legger fra meg" en terning blir det en ny runde med tre kast

            if (kast == 3) {
                nyRunde()
            }
        }

        //her er funksjonen som gir meg tre kast
        function nyRunde() {
            kast = 0
            btnTerning.disabled = false
            document.getElementById("keep1").checked = false
            document.getElementById("keep2").checked = false
            document.getElementById("keep3").checked = false
            document.getElementById("keep4").checked = false
            document.getElementById("keep5").checked = false
            document.getElementById("keep6").checked = false
            for (i = 1; i <= 6; i++) {
                document.getElementById("imgTerning_" + i).src = "../bilder/Terning" + i + ".svg.png";
            }
        }


        function yatzy() {
            alert("yatzy")
            if (terning_array[0] == terning_array[1] && terning_array[0] == terning_array[2] && terning_array[0] == terning_array[3] && terning_array[0] == terning_array[4] && terning_array[0] == terning_array[5]) {
                document.getElementById("yatzy").innerHTML = 50;
            }
        }

        //denne funksjonen bruker de verdiene i tabellen til å regne ut en totalsum

        function sum_() {
            document.getElementById("sum").innerHTML = sum
        }


    </script>

</body>

</html>